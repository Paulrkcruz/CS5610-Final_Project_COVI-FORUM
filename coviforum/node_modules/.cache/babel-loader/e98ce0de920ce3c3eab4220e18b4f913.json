{"ast":null,"code":"// Setup environment for Express Server\nconst fs = require(\"fs\");\n\nlet environment = process.argv.indexOf(\"-environment\") === -1 ? process.environment[\"ENV\"] || \"localhost\" : process.argv[process.argv.indexOf(\"-environment\") + 1]; // read config file when developing\n\nlet configJson = {};\n\nif (environment === \"localhost\") {\n  try {\n    // Get current folder\n    configJson = JSON.parse(fs.readFileSync(__dirname + \"/config.json\").toString());\n  } catch (err) {\n    console.warn(\"No config.json exists.\");\n  }\n} else {\n  let port = process.argv.indexOf(\"-port\") === -1 ? process.environment[\"PORT\"] || \"3000\" : process.argv[process.argv.indexOf(\"-port\") + 1];\n  let uri = process.argv.indexOf(\"-uri\") === -1 ? process.environment[\"URI\"] || \"\" : process.argv[process.argv.indexOf(\"-uri\") + 1];\n  configJson[environment] = {\n    port,\n    mongo: {\n      uri\n    }\n  };\n} // Setup configuration environment\n\n\nlet environmentConfig = configJson[environment] || {};\nenvironmentConfig[\"environment\"] = environment;\nmodule.exports = environmentConfig;","map":{"version":3,"sources":["/Users/kurtiscruz/Desktop/GitHub/CS5610-Final_Project_COVI-FORUM/coviforum/server/configs/config.js"],"names":["fs","require","environment","process","argv","indexOf","configJson","JSON","parse","readFileSync","__dirname","toString","err","console","warn","port","uri","mongo","environmentConfig","module","exports"],"mappings":"AAAA;AACA,MAAMA,EAAE,GAAGC,OAAO,CAAC,IAAD,CAAlB;;AACA,IAAIC,WAAW,GACbC,OAAO,CAACC,IAAR,CAAaC,OAAb,CAAqB,cAArB,MAAyC,CAAC,CAA1C,GACIF,OAAO,CAACD,WAAR,CAAoB,KAApB,KAA8B,WADlC,GAEIC,OAAO,CAACC,IAAR,CAAaD,OAAO,CAACC,IAAR,CAAaC,OAAb,CAAqB,cAArB,IAAuC,CAApD,CAHN,C,CAKA;;AACA,IAAIC,UAAU,GAAG,EAAjB;;AACA,IAAIJ,WAAW,KAAK,WAApB,EAAiC;AAC/B,MAAI;AACF;AACAI,IAAAA,UAAU,GAAGC,IAAI,CAACC,KAAL,CACXR,EAAE,CAACS,YAAH,CAAgBC,SAAS,GAAG,cAA5B,EAA4CC,QAA5C,EADW,CAAb;AAGD,GALD,CAKE,OAAOC,GAAP,EAAY;AACZC,IAAAA,OAAO,CAACC,IAAR,CAAa,wBAAb;AACD;AACF,CATD,MASO;AACL,MAAIC,IAAI,GACNZ,OAAO,CAACC,IAAR,CAAaC,OAAb,CAAqB,OAArB,MAAkC,CAAC,CAAnC,GACIF,OAAO,CAACD,WAAR,CAAoB,MAApB,KAA+B,MADnC,GAEIC,OAAO,CAACC,IAAR,CAAaD,OAAO,CAACC,IAAR,CAAaC,OAAb,CAAqB,OAArB,IAAgC,CAA7C,CAHN;AAIA,MAAIW,GAAG,GACLb,OAAO,CAACC,IAAR,CAAaC,OAAb,CAAqB,MAArB,MAAiC,CAAC,CAAlC,GACIF,OAAO,CAACD,WAAR,CAAoB,KAApB,KAA8B,EADlC,GAEIC,OAAO,CAACC,IAAR,CAAaD,OAAO,CAACC,IAAR,CAAaC,OAAb,CAAqB,MAArB,IAA+B,CAA5C,CAHN;AAKAC,EAAAA,UAAU,CAACJ,WAAD,CAAV,GAA0B;AACxBa,IAAAA,IADwB;AAExBE,IAAAA,KAAK,EAAE;AACLD,MAAAA;AADK;AAFiB,GAA1B;AAMD,C,CACD;;;AACA,IAAIE,iBAAiB,GAAGZ,UAAU,CAACJ,WAAD,CAAV,IAA2B,EAAnD;AACAgB,iBAAiB,CAAC,aAAD,CAAjB,GAAmChB,WAAnC;AACAiB,MAAM,CAACC,OAAP,GAAiBF,iBAAjB","sourcesContent":["// Setup environment for Express Server\nconst fs = require(\"fs\");\nlet environment =\n  process.argv.indexOf(\"-environment\") === -1\n    ? process.environment[\"ENV\"] || \"localhost\"\n    : process.argv[process.argv.indexOf(\"-environment\") + 1];\n\n// read config file when developing\nlet configJson = {};\nif (environment === \"localhost\") {\n  try {\n    // Get current folder\n    configJson = JSON.parse(\n      fs.readFileSync(__dirname + \"/config.json\").toString()\n    );\n  } catch (err) {\n    console.warn(\"No config.json exists.\");\n  }\n} else {\n  let port =\n    process.argv.indexOf(\"-port\") === -1\n      ? process.environment[\"PORT\"] || \"3000\"\n      : process.argv[process.argv.indexOf(\"-port\") + 1];\n  let uri =\n    process.argv.indexOf(\"-uri\") === -1\n      ? process.environment[\"URI\"] || \"\"\n      : process.argv[process.argv.indexOf(\"-uri\") + 1];\n\n  configJson[environment] = {\n    port,\n    mongo: {\n      uri,\n    },\n  };\n}\n// Setup configuration environment\nlet environmentConfig = configJson[environment] || {};\nenvironmentConfig[\"environment\"] = environment;\nmodule.exports = environmentConfig;\n"]},"metadata":{},"sourceType":"script"}